<!doctype html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>Quantara Devnet-0 Waitlist ‚Äî Be a Founding Member</title>
  <meta name="description" content="Join the Quantara Devnet-0 waitlist for early faucet access to QTR (testnet), priority onboarding, and Founding Member recognition." />
  <meta name="theme-color" content="#0a0b0d">
  <meta name="color-scheme" content="dark">
  <!-- Neutralize favicon to avoid CSP/image requests -->
  <link rel="icon" href="data:,">
  <link rel="canonical" href="https://www.quantara-waitlist.com/" />
  <meta name="robots" content="index,follow">

  <!-- Open Graph -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="Quantara Devnet-0 Waitlist ‚Äî Be a Founding Member">
  <meta property="og:description" content="6-second blocks ‚Ä¢ SS58=73 ‚Ä¢ 12 decimals ‚Ä¢ Post-quantum ready. Join the waitlist for faucet & wallet access.">
  <meta property="og:url" content="https://www.quantara-waitlist.com/">

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Quantara Devnet-0 Waitlist ‚Äî Be a Founding Member">
  <meta name="twitter:description" content="6-second blocks ‚Ä¢ SS58=73 ‚Ä¢ 12 decimals ‚Ä¢ Post-quantum ready. Join the waitlist for faucet & wallet access.">


  <!-- Hints -->
  <link rel="preconnect" href="https://challenges.cloudflare.com">
  <link rel="dns-prefetch" href="https://challenges.cloudflare.com">

  <!-- Optional perf: preload hero bg if you have a file -->
  <!-- <link rel="preload" href="/assets/bg-grid.webp" as="image" type="image/webp"> -->

  <!-- Tailwind (CDN build kept) -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Configure Tailwind tokens -->
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: { qbg:'#0a0b0d', qpanel:'#101217', qline:'#191e25', qgold:'#f1c46b', qmuted:'#9aa0a6', qgreen:'#8BE7A1' },
          boxShadow: { glow:'0 0 0 1px rgba(241,196,107,.18), 0 18px 60px rgba(241,196,107,.10)' }
        }
      }
    }
  </script>

  <!-- Page styles (non-visual only tweaks) -->
  <style>
    .bg-grid{
      background-image:
        radial-gradient(1000px 500px at 80% -10%, rgba(241,196,107,.10), transparent 60%),
        radial-gradient(800px 400px at -10% 10%, rgba(241,196,107,.06), transparent 60%),
        linear-gradient(to bottom, rgba(241,196,107,.05) 1px, transparent 1px),
        linear-gradient(to right,  rgba(241,196,107,.05) 1px, transparent 1px);
      background-size: 100% 100%, 100% 100%, 64px 64px, 64px 64px;
      background-position: center;
    }
    .frame:before,.frame:after{content:"";position:absolute;inset:12px;border:1px solid rgba(241,196,107,.22);border-radius:14px;pointer-events:none}
    .frame:after{inset:28px;border-color:rgba(241,196,107,.12)}
    .gold-line{height:1px;background:linear-gradient(to right,transparent,rgba(241,196,107,.6),transparent)}
    .chip{border:1px solid #191e25;background:rgba(255,255,255,.03)}
    .pulse{animation:pulseGlow 2.2s ease-in-out infinite}
    @keyframes pulseGlow{0%,100%{box-shadow:0 0 0 0 rgba(241,196,107,.25)}50%{box-shadow:0 0 0 8px rgba(241,196,107,.02)}}
    :focus-visible { outline: 2px solid #f1c46b; outline-offset: 2px; border-radius: 8px; }
    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
    .skip-link:focus{position:fixed;left:1rem;top:1rem;width:auto;height:auto;padding:.5rem .75rem;background:#f1c46b;color:#000;border-radius:.5rem;z-index:50}

    /* Preview lock styles */
    .preview-card{position:relative;overflow:hidden}
    .preview-ui{filter:grayscale(1);opacity:.6;pointer-events:none;user-select:none}
    .locker{
      position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center;
      background:linear-gradient(180deg,rgba(10,11,13,.35),rgba(10,11,13,.65));
      border:1px solid rgba(241,196,107,.18);text-align:center;gap:.5rem
    }
    .locker .lock-icon{width:42px;height:42px;color:#f1c46b;opacity:.95}
    .locker small{color:#9aa0a6}
    [data-live="1"] .preview-ui{filter:none;opacity:1;pointer-events:auto;user-select:auto}
    [data-live="1"] .locker{display:none}
    .is-disabled{opacity:.85}
    .is-disabled:hover{opacity:1}

    /* Code blocks */
    pre{background:rgba(255,255,255,.03);border:1px solid #191e25}
    .copy-btn{position:absolute;top:.5rem;right:.5rem}

    /* Rewards chart */
    .bar{height:12px;border-radius:9999px;background:linear-gradient(90deg, rgba(241,196,107,.95), rgba(241,196,107,.55));box-shadow:0 4px 20px rgba(241,196,107,.15) inset;width:0}
    .bar-wrap{background:rgba(255,255,255,.05);border:1px solid #191e25;border-radius:9999px;overflow:hidden}
  </style>

  <!-- SEO JSON-LD -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"WebSite",
    "name":"Quantara",
    "url":"https://www.quantara-waitlist.com/",
    "description":"Join the Quantara Devnet-0 waitlist for early faucet access and wallet preview.",
    "potentialAction":{"@type":"SubscribeAction","target":"https://www.quantara-waitlist.com/#join"}
  }
  </script>

  <!-- Cloudflare Turnstile (human check) -->
  <script src="https://challenges.cloudflare.com/turnstile/v0/api.js" defer></script>
</head>
<body class="bg-qbg text-white antialiased">

  <!-- Announcement bar -->
  <div id="announce" class="w-full bg-qgold text-black text-sm text-center py-2">
    üöÄ Devnet-0 unlocks in <span id="bar-countdown">T-72h</span>.
    <a href="#join" class="underline font-semibold">Get early access</a>
  </div>

  <!-- Skip to content (a11y) -->
  <a href="#main" class="skip-link sr-only focus:not-sr-only">Skip to main content</a>

  <!-- Sticky mobile CTA -->
  <a href="#join" class="sm:hidden fixed bottom-4 left-4 right-4 z-30 rounded-xl bg-qgold text-black font-semibold py-3 text-center shadow-glow pulse" aria-label="Join the waitlist">
    Join the Waitlist
  </a>

  <!-- Header -->
<header class="sticky top-0 z-30 bg-qbg/70 backdrop-blur border-b border-qline supports-[backdrop-filter]:bg-qbg/60"
        role="banner" data-header>
  <div class="max-w-6xl mx-auto px-4 h-14 flex items-center justify-between">
    <!-- Brand -->
    <a href="/" class="flex items-center gap-2 focus:outline-none focus-visible:ring-2 focus-visible:ring-qgold rounded-md"
       aria-label="Quantara home">
      <svg width="24" height="24" viewBox="0 0 24 24" class="text-qgold" fill="none" aria-hidden="true">
        <circle cx="11" cy="11" r="7.5" stroke="currentColor" stroke-width="2"/>
        <path d="M17 17L22 22" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
      </svg>
      <span class="text-sm tracking-[0.35em] text-qgold">QUANTARA</span>
    </a>

    <!-- Mobile menu button -->
    <button type="button"
            class="sm:hidden inline-flex items-center justify-center w-9 h-9 rounded-md border border-qline/80 text-white/80 hover:bg-white/5 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-qgold"
            aria-label="Toggle navigation" aria-controls="primary-nav" aria-expanded="false" data-nav-toggle>
      <svg class="pointer-events-none" width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
        <path d="M4 6h16M4 12h16M4 18h16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
      </svg>
    </button>

    <!-- Desktop nav -->
    <nav id="primary-nav" class="hidden sm:flex items-center gap-6 text-sm text-white/70"
         role="navigation" aria-label="Primary">
      <a class="hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-qgold rounded"
         href="#wallet" data-navlink>Wallet + Faucet</a>
      <a class="hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-qgold rounded"
         href="#preview" data-navlink>Preview</a>
      <a class="hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-qgold rounded"
         href="#build" data-navlink>Start building</a>
      <a class="hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-qgold rounded"
         href="#rewards" data-navlink>Rewards</a>
      <a class="hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-qgold rounded"
         href="#why" data-navlink>Why join</a>
      <a class="hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-qgold rounded"
         href="#how" data-navlink>How it works</a>
      <a class="hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-qgold rounded"
         href="#timeline" data-navlink>Timeline</a>
      <a class="hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-qgold rounded"
         href="#faq" data-navlink>FAQ</a>
      <a class="hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-qgold rounded"
         href="/privacy.html">Privacy</a>
    </nav>
  </div>

  <!-- Mobile drawer -->
  <div class="sm:hidden hidden border-t border-qline/80 bg-qbg/95" data-nav-drawer>
    <nav class="max-w-6xl mx-auto px-4 py-3 grid gap-2 text-sm text-white/80" aria-label="Primary (mobile)">
      <a class="py-2 border-b border-qline/60 hover:text-white" href="#wallet" data-navlink>Wallet + Faucet</a>
      <a class="py-2 border-b border-qline/60 hover:text-white" href="#preview" data-navlink>Preview</a>
      <a class="py-2 border-b border-qline/60 hover:text-white" href="#build" data-navlink>Start building</a>
      <a class="py-2 border-b border-qline/60 hover:text-white" href="#rewards" data-navlink>Rewards</a>
      <a class="py-2 border-b border-qline/60 hover:text-white" href="#why" data-navlink>Why join</a>
      <a class="py-2 border-b border-qline/60 hover:text-white" href="#how" data-navlink>How it works</a>
      <a class="py-2 border-b border-qline/60 hover:text-white" href="#timeline" data-navlink>Timeline</a>
      <a class="py-2 hover:text-white" href="#faq" data-navlink>FAQ</a>
      <a class="py-2 hover:text-white" href="/privacy.html">Privacy</a>
    </nav>
  </div>
</header>

<!-- HERO -->
<section class="relative bg-grid" id="main" role="main">
  <div class="max-w-6xl mx-auto px-4 py-16 sm:py-20">
    <div class="relative frame rounded-2xl">
      <div class="relative grid lg:grid-cols-2 gap-10 p-6 sm:p-10 lg:p-12">
        <!-- Left: copy -->
        <div class="flex flex-col justify-center hero">
          <div class="flex items-center gap-2 text-qgold mb-3">
            <span class="inline-flex items-center gap-2 text-[11px] sm:text-xs tracking-[0.22em] uppercase">
              <span class="w-1.5 h-1.5 rounded-full bg-qgold" aria-hidden="true"></span>
              Founding Members Program
            </span>
          </div>

          <h1 class="text-4xl sm:text-5xl lg:text-6xl font-semibold leading-[1.1] tracking-tight text-white">
            Devnet-0 Waitlist
          </h1>

          <p class="mt-4 max-w-xl text-base sm:text-lg text-white/85 leading-relaxed">
            Be part of the first wave on a fast, <span class="text-white">post-quantum-ready</span> L1 ‚Äî whether you‚Äôre a
            <strong class="text-white">curious newcomer</strong>, a <strong class="text-white">creator</strong>, or a
            <strong class="text-white">developer</strong>. Use the <span class="text-qgold font-medium">Quantara Wallet</span>
            and claim from the <span class="text-qgold font-medium">Quantara Faucet</span> on day one. No crypto experience required.
          </p>

          <!-- Feature chips -->
          <div class="mt-6 flex flex-wrap gap-2.5 text-sm">
            <span class="chip inline-flex items-center gap-2 rounded-full px-3 py-2 text-white/95">
              <svg width="16" height="16" viewBox="0 0 24 24" class="text-qgold" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><circle cx="12" cy="12" r="9"></circle><path d="M12 7v6l4 2"></path></svg>
              6-second blocks
            </span>
            <span class="chip inline-flex items-center gap-2 rounded-full px-3 py-2 text-white/95">
              <svg width="16" height="16" viewBox="0 0 24 24" class="text-qgold" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><path d="M12 3l7 7-7 11L5 10z"></path></svg>
              SS58=73 ‚Ä¢ QTR ‚Ä¢ 12 decimals
            </span>
            <span class="chip inline-flex items-center gap-2 rounded-full px-3 py-2 text-white/95">
              <svg width="16" height="16" viewBox="0 0 24 24" class="text-qgold" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><rect x="3" y="4" width="18" height="6" rx="2"></rect><path d="M7 20h10M12 10v10"></path></svg>
              Faucet API (rate-limited)
            </span>
            <span class="chip inline-flex items-center gap-2 rounded-full px-3 py-2 text-white/95">
              <svg width="16" height="16" viewBox="0 0 24 24" class="text-qgold" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><path d="M20 6L9 17l-5-5"></path></svg>
              Human check
            </span>
          </div>

          <!-- Dual CTA -->
          <div class="mt-8 flex flex-wrap gap-3">
            <a href="#join"
               class="inline-flex items-center justify-center rounded-xl bg-qgold px-5 py-3 text-black font-semibold hover:opacity-90 shadow-glow focus:outline-none focus-visible:ring-2 focus-visible:ring-qgold"
               aria-label="Jump to the waitlist form">
              Join the Waitlist
            </a>
            <a href="/wallet/"
               class="inline-flex items-center justify-center rounded-xl border border-qline px-5 py-3 text-white/90 hover:bg-white/5 focus:outline-none focus-visible:ring-2 focus-visible:ring-qgold"
               aria-label="Preview Quantara Wallet">
              Preview Quantara Wallet
            </a>
          </div>
        </div>

        <!-- Right: glossy form -->
<div id="join" class="lg:pl-6">
  <div
    class="bg-qpanel/85 border border-white/10 rounded-2xl p-6 sm:p-7 lg:p-8 shadow-glow"
    aria-labelledby="form-title"
  >
    <h2 class="text-xl font-medium text-white" id="form-title">Join the Waitlist</h2>
    <p class="mt-1 text-sm text-qmuted" id="form-desc">
      Get a 72-hour heads-up and faucet priority.
    </p>

    <form
      name="waitlist"
      id="waitlist-form"
      method="POST"
      action="/api/waitlist"
      class="mt-5"
      aria-describedby="form-desc"
      novalidate
    >
      <input type="hidden" name="form-name" value="waitlist" />
      <!-- honeypot -->
      <p class="hidden"><label>Don‚Äôt fill this out: <input name="bot-field" /></label></p>
      <!-- Auto-referral (filled by JS) -->
      <input type="hidden" name="referral_auto" id="referral_auto" />

      <!-- Email -->
      <label class="block text-sm text-qmuted" for="email">Email</label>
      <input
        required
        type="email"
        id="email"
        name="email"
        autocomplete="email"
        inputmode="email"
        spellcheck="false"
        class="mt-1 w-full rounded-xl bg-black/40 border border-white/10 px-4 py-3 outline-none focus:border-qgold"
        placeholder="you@company.com"
      />

      <!-- Role / Experience -->
      <div class="mt-4 grid grid-cols-2 gap-3">
        <div>
          <label class="block text-sm text-qmuted" for="role">Role</label>
          <select
            id="role"
            name="role"
            required
            class="mt-1 w-full rounded-xl bg-black/40 border border-white/10 px-4 py-3"
          >
            <option value="" selected disabled>Choose‚Ä¶</option>
            <option>Enthusiast (No code)</option>
            <option>Creator</option>
            <option>Builder</option>
            <option>Validator</option>
            <option>Ambassador</option>
            <option>Partner</option>
            <option>Press</option>
          </select>
        </div>
        <div>
          <label class="block text-sm text-qmuted" for="exp">Experience</label>
          <select
            id="exp"
            name="experience"
            required
            class="mt-1 w-full rounded-xl bg-black/40 border border-white/10 px-4 py-3"
          >
            <option value="" selected disabled>Choose‚Ä¶</option>
            <option>New</option>
            <option>Intermediate</option>
            <option>Advanced</option>
          </select>
        </div>
      </div>

      <!-- Socials -->
      <div class="mt-4 grid grid-cols-2 gap-3">
        <div>
          <label class="block text-sm text-qmuted" for="discord">Discord</label>
          <input
            id="discord"
            name="discord"
            placeholder="username (optional)"
            autocomplete="off"
            spellcheck="false"
            class="mt-1 w-full rounded-xl bg-black/40 border border-white/10 px-4 py-3"
          />
        </div>
        <div>
          <label class="block text-sm text-qmuted" for="github">GitHub</label>
          <input
            id="github"
            name="github"
            type="url"
            inputmode="url"
            pattern="^https?://(www\\.)?github\\.com/.*$"
            placeholder="https://github.com/you"
            class="mt-1 w-full rounded-xl bg-black/40 border border-white/10 px-4 py-3"
          />
        </div>
      </div>

      <!-- Country -->
      <div class="mt-4">
        <label class="block text-sm text-qmuted" for="country">Country/Region</label>
        <input
          id="country"
          name="country"
          autocomplete="country-name"
          class="mt-1 w-full rounded-xl bg-black/40 border border-white/10 px-4 py-3"
        />
      </div>

      <!-- Referral (optional) -->
<div class="mt-4">
  <label class="block text-sm text-qmuted" for="referral">Referral code (optional)</label>
  <input
    id="referral"
    name="referral"
    placeholder="ABC123"
    inputmode="text"
    autocomplete="off"
    spellcheck="false"
    maxlength="64"
    aria-describedby="referral-help"
    class="mt-1 w-full rounded-xl bg-black/40 border border-white/10 px-4 py-3 tracking-wider"
  />
  <p id="referral-help" class="mt-1 text-xs text-qmuted">
    Paste the code from your friend‚Äôs link. Letters &amp; numbers only, up to 64 characters.
  </p>
</div>

<!-- Turnstile widget -->
<div
  class="cf-turnstile mt-4"
  data-sitekey="0x4AAAAAAB5BBZiG4VTPYuEi"
  data-theme="dark"
  data-callback="onTurnstileToken"
  data-expired-callback="onTurnstileExpired"
  data-error-callback="onTurnstileError"
  aria-label="Human verification">
</div>

<!-- No-JS fallback (recommended) -->
<noscript>
  <div class="mt-3 text-xs text-qmuted">
    JavaScript is required for the human check. Please enable JavaScript and reload this page to submit the form.
  </div>
</noscript>

<!-- Consent -->
<div class="mt-5 text-xs text-qmuted">
  <label for="consent" class="flex items-start gap-2">
    <input
      id="consent"
      name="consent_marketing"
      type="checkbox"
      value="yes"
      required
      class="mt-1"
      aria-describedby="consent-legal"
    />
    <span>
      I agree to receive Devnet-0 updates and early-access information by email.
      Testnet tokens have no monetary value.
    </span>
  </label>
  <p id="consent-legal" class="mt-2">
    By joining, you accept our
    <a class="underline hover:text-white" href="/privacy.html">Privacy Notice</a>.
  </p>
</div>



      <!-- Actions -->
      <div class="mt-5 grid sm:flex gap-3">
        <button
          id="join-submit"
          type="submit"
          disabled
          class="rounded-xl bg-qgold text-black font-semibold py-3 px-5 hover:opacity-90"
          aria-label="Submit and join the waitlist"
        >
          Join the Waitlist
        </button>
        <button
          type="button"
          id="share-ref"
          class="rounded-xl border border-qline px-5 py-3 text-white/90 hover:bg-white/5"
        >
          Share your referral link
        </button>
      </div>

      <p class="mt-3 text-[12px] text-qmuted">
        By joining, you accept our
        <a class="underline hover:text-white" href="/privacy.html">Privacy Notice</a>.
      </p>
    </form>
  </div>
</div>


           <!-- SS58/QTR badge -->
                <div class="max-w-6xl mx-auto px-4 mt-4 text-xs text-white/70">
                  Compatible with Substrate wallets ‚Ä¢
                  <span class="text-qgold">SS58=<output id="ss58-prefix" aria-label="SS58 prefix" class="inline">73</output></span> ‚Ä¢
                  Token: <span class="text-qgold"><output id="token-symbol" aria-label="Token symbol" class="inline">QTR</output></span> ‚Ä¢
                  Decimals: <span class="text-qgold"><output id="token-decimals" aria-label="Token decimals" class="inline">12</output></span>
                </div>

                </div>
                </section>

                <!-- Quick actions: Explorer / RPC / Status -->
                <section class="border-t border-qline" aria-label="Quick actions">
                  <div class="max-w-6xl mx-auto px-4 py-6 flex flex-wrap items-center gap-3">
                    <a href="/explorer/" class="rounded-xl border border-qline px-4 py-2 hover:bg-white/5 focus:outline-none focus-visible:ring-2 focus-visible:ring-qgold" aria-label="Open Explorer">
                      Open Explorer
                    </a>
                    <button id="copy-rpc"
                            type="button"
                            class="rounded-xl border border-qline px-4 py-2 hover:bg-white/5 focus:outline-none focus-visible:ring-2 focus-visible:ring-qgold"
                            aria-label="Copy RPC WebSocket URL">
                      Copy RPC URL
                    </button>
                    <a href="/status/" class="rounded-xl border border-qline px-4 py-2 hover:bg-white/5 focus:outline-none focus-visible:ring-2 focus-visible:ring-qgold" aria-label="Open Status Page">
                      Status Page
                    </a>

                    <span class="text-xs text-qmuted ml-auto">
                      RPC:
                      <code id="rpc-url" class="text-white/80 break-all">wss://rpc.devnet-0.quantara.xyz</code>
                    </span>
                  </div>
                </section>

                <!-- Live network strip (simulated until launch) -->
                <section class="border-t border-qline" aria-label="Network snapshot">
                  <div class="max-w-6xl mx-auto px-4 py-6">
                    <div class="grid grid-cols-2 sm:grid-cols-4 gap-4">
                      <div class="rounded-xl border border-qline p-4 bg-white/[.02] text-center">
                        <div class="text-sm text-qmuted">Network</div>
                        <div class="mt-1 font-semibold">
                          <output id="network-name" class="inline">Devnet-0</output>
                          <span id="live-badge" class="text-xs text-qgold align-middle ml-1">Preview</span>
                        </div>
                      </div>

                      <div class="rounded-xl border border-qline p-4 bg-white/[.02] text-center">
                        <div class="text-sm text-qmuted">Block time</div>
                        <div class="mt-1 font-semibold">
                          <output id="block-time" aria-live="polite" class="inline">~6s</output>
                        </div>
                      </div>

                      <div class="rounded-xl border border-qline p-4 bg-white/[.02] text-center">
                        <div class="text-sm text-qmuted">Height</div>
                        <div class="mt-1 font-semibold">
                          <output id="height" aria-live="polite" class="inline">12,345</output>
                        </div>
                      </div>

                      <div class="rounded-xl border border-qline p-4 bg-white/[.02] text-center">
                        <div class="text-sm text-qmuted">Peers</div>
                        <div class="mt-1 font-semibold">
                          <output id="peers" aria-live="polite" class="inline">18</output>
                        </div>
                      </div>
                    </div>
                  </div>
                </section>

                <!-- Social proof logos -->
                <section aria-label="Social proof" class="border-t border-qline">
                  <div class="max-w-6xl mx-auto px-4 py-10">
                    <p class="text-center text-qmuted text-sm">Trusted by builders from</p>
                    <div class="mt-4 grid grid-cols-2 sm:grid-cols-4 gap-6 opacity-80">
                      <div class="h-10 bg-white/5 border border-qline rounded-lg" aria-hidden="true"></div>
                      <div class="h-10 bg-white/5 border border-qline rounded-lg" aria-hidden="true"></div>
                      <div class="h-10 bg-white/5 border border-qline rounded-lg" aria-hidden="true"></div>
                      <div class="h-10 bg-white/5 border border-qline rounded-lg" aria-hidden="true"></div>
                    </div>
                  </div>
                </section>

                <div class="gold-line" aria-hidden="true"></div>

                <!-- WALLET + FAUCET -->
                <section id="wallet" class="border-t border-qline" aria-label="Quantara wallet and faucet">
                  <div class="max-w-6xl mx-auto px-4 py-12 sm:py-16">
                    <div class="grid md:grid-cols-2 gap-6">
                      <article class="rounded-2xl border border-qline p-6 bg-white/[.02]">
                        <h2 class="text-2xl font-semibold">Quantara Wallet</h2>
                        <p class="mt-2 text-qmuted">
                          Our lightweight web wallet for Devnet-0. Create a wallet in seconds, copy your
                          <span class="text-qgold">SS58=<output id="wallet-ss58" class="inline">73</output></span> address,
                          scan a QR, and see your <span class="text-qgold"><output id="wallet-token" class="inline">QTR</output></span> balance.
                          A step-by-step guide is built in.
                        </p>
                        <ul class="mt-3 space-y-2 text-sm text-qmuted">
                          <li>‚Ä¢ Instant address creation (sr25519)</li>
                          <li>‚Ä¢ Balance viewer (<output id="wallet-decimals" class="inline">12</output> decimals)</li>
                          <li>‚Ä¢ Copy &amp; QR for the faucet</li>
                        </ul>
                        <a href="/wallet/"
                          class="mt-4 inline-flex items-center justify-center rounded-xl border border-qline px-5 py-3 text-white hover:bg-white/5 focus:outline-none focus-visible:ring-2 focus-visible:ring-qgold"
                          aria-label="Open Quantara Wallet">
                          Open Wallet
                        </a>
                      </article>

                      <article class="rounded-2xl border border-qline p-6 bg-white/[.02]">
                        <h2 class="text-2xl font-semibold">Quantara Faucet</h2>
                        <p class="mt-2 text-qmuted">
                          Claim <span class="text-qgold"><output id="faucet-token" class="inline">QTR</output> (testnet)</span> to explore the network,
                          try apps, or run a validator. Human-check protected with fair, per-hour limits.
                          (For developers, a CI-friendly API is available.)
                        </p>
                        <ul class="mt-3 space-y-2 text-sm text-qmuted">
                          <li>‚Ä¢ Rate-limited anti-bot</li>
                          <li>‚Ä¢ Public API for CI</li>
                          <li>‚Ä¢ Explorer link after claim</li>
                        </ul>
                        <a href="/faucet/"
                          class="mt-4 inline-flex items-center justify-center rounded-xl bg-qgold px-5 py-3 text-black font-semibold hover:opacity-90 focus:outline-none focus-visible:ring-2 focus-visible:ring-qgold"
                          aria-label="View Quantara Faucet">
                          View Faucet
                        </a>
                      </article>
                    </div>
                  </div>
                </section>


  <!-- PREVIEW (locked until launch) -->
  <section id="preview" class="border-t border-qline" aria-label="Preview wallet and faucet">
    <div class="max-w-6xl mx-auto px-4 py-12 sm:py-16">
      <div class="flex items-center justify-between">
        <div>
          <h2 class="text-2xl font-semibold">See what‚Äôs coming</h2>
          <p class="mt-2 text-qmuted">A quick look at the Quantara Wallet and Faucet. Interaction unlocks at launch.</p>
        </div>
        <button id="watch-demo" class="mt-3 rounded-xl border border-qline px-4 py-2 hover:bg-white/5">Watch a 20-second demo</button>
      </div>

      <div class="mt-6 grid md:grid-cols-2 gap-6">
        <!-- Wallet preview -->
        <div class="rounded-2xl border border-qline bg-white/[.02] p-6 preview-card">
          <div class="preview-ui">
            <div class="flex items-center justify-between">
              <h3 class="text-xl font-medium">Quantara Wallet</h3>
              <span class="text-xs text-qmuted">SS58=73 ‚Ä¢ QTR</span>
            </div>
            <div class="mt-4 grid gap-3">
              <div class="rounded-xl bg-black/40 border border-white/10 p-4">
                <div class="text-xs text-qmuted">Address</div>
                <div class="mt-1 font-mono text-sm">5Fh‚Ä¶Y88 <span class="text-qmuted">(preview)</span></div>
              </div>
              <div class="grid grid-cols-2 gap-3">
                <button class="rounded-xl bg-qgold text-black font-semibold py-2.5">Copy</button>
                <button class="rounded-xl border border-qline py-2.5">Show QR</button>
              </div>
              <div class="rounded-xl bg-black/40 border border-white/10 p-4">
                <div class="text-xs text-qmuted">Balance</div>
                <div class="mt-1 font-mono">0.000000000000 QTR</div>
              </div>
            </div>
          </div>
          <div class="locker">
            <svg class="lock-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" aria-hidden="true">
              <rect x="4" y="11" width="16" height="9" rx="2"/><path d="M8 11V8a4 4 0 1 1 8 0v3"/>
            </svg>
            <div class="text-sm">Unlocks at <time id="preview-release-time" class="text-qgold"></time></div>
            <small id="preview-countdown" class="text-xs">T-‚Äîh ‚Äîm</small>
            <a href="#join" class="mt-2 inline-flex items-center justify-center rounded-xl bg-qgold px-4 py-2 text-black font-semibold shadow-glow">Get notified</a>
          </div>
        </div>

        <!-- Faucet preview -->
        <div class="rounded-2xl border border-qline bg-white/[.02] p-6 preview-card">
          <div class="preview-ui">
            <div class="flex items-center justify-between">
              <h3 class="text-xl font-medium">Quantara Faucet</h3>
              <span class="text-xs text-qmuted">Fair limits ‚Ä¢ Human check</span>
            </div>
            <div class="mt-4 grid gap-3">
              <div>
                <label class="block text-sm text-qmuted">Your SS58=73 address</label>
                <input disabled class="mt-1 w-full rounded-xl bg-black/40 border border-white/10 px-4 py-3" placeholder="5Fh‚Ä¶Y88 (preview only)"/>
              </div>
              <button class="rounded-xl bg-qgold text-black font-semibold py-3">Request QTR (testnet)</button>
              <p class="text-xs text-qmuted">Per-hour limit ‚Ä¢ CI API available at launch</p>
            </div>
          </div>
          <div class="locker">
            <svg class="lock-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" aria-hidden="true">
              <rect x="4" y="11" width="16" height="9" rx="2"/><path d="M8 11V8a4 4 0 1 1 8 0v3"/>
            </svg>
            <div class="text-sm">Unlocks at <time id="preview-release-time-2" class="text-qgold"></time></div>
            <small id="preview-countdown-2" class="text-xs">T-‚Äîh ‚Äîm</small>
            <a href="#join" class="mt-2 inline-flex items-center justify-center rounded-xl bg-qgold px-4 py-2 text-black font-semibold shadow-glow">Get notified</a>
          </div>
        </div>
      </div>

      <!-- Soft-disabled direct links -->
      <div class="mt-6 flex flex-wrap gap-3">
        <a href="/wallet/" data-live-link class="is-disabled inline-flex items-center justify-center rounded-xl border border-qline px-5 py-3 text-white hover:bg-white/5">Open Wallet</a>
        <a href="/faucet/" data-live-link class="is-disabled inline-flex items-center justify-center rounded-xl bg-qgold px-5 py-3 text-black font-semibold hover:opacity-90">View Faucet</a>
      </div>
    </div>
  </section>

 <!-- Metrics strip -->
<section class="border-t border-qline">
  <div class="max-w-6xl mx-auto px-4 py-12">
    <div class="grid grid-cols-2 sm:grid-cols-4 gap-4">
      <div class="rounded-2xl border border-qline p-4 bg-white/[.02] text-center">
        <div id="metric-waitlist" class="text-2xl font-semibold" data-countup>0</div>
        <div class="text-xs text-qmuted mt-1">Waitlist sign-ups</div>
      </div>
      <div class="rounded-2xl border border-qline p-4 bg-white/[.02] text-center">
        <div id="metric-countries" class="text-2xl font-semibold" data-countup>0</div>
        <div class="text-xs text-qmuted mt-1">Countries</div>
      </div>
      <div class="rounded-2xl border border-qline p-4 bg-white/[.02] text-center">
        <div id="metric-avgblock" class="text-2xl font-semibold" data-countup>0</div>
        <div class="text-xs text-qmuted mt-1">Avg block (s)</div>
      </div>
      <div class="rounded-2xl border border-qline p-4 bg-white/[.02] text-center">
        <div id="metric-ss58" class="text-2xl font-semibold" data-countup>0</div>
        <div class="text-xs text-qmuted mt-1">SS58 prefix</div>
      </div>
    </div>
  </div>
</section>


  <!-- Start building (copyable code) -->
  <section id="build" class="border-t border-qline">
    <div class="max-w-6xl mx-auto px-4 py-12 sm:py-16">
      <h2 class="text-2xl font-semibold">Start building in minutes</h2>
      <div class="mt-6 grid md:grid-cols-3 gap-5">
        <!-- Node (Docker) -->
        <div class="relative rounded-2xl border border-qline p-5 bg-white/[.02]">
          <div class="text-qgold font-medium">Run a node (Docker)</div>
          <button class="copy-btn rounded-md border border-qline px-2 py-1 text-xs hover:bg-white/5" data-copy="#code-docker">Copy</button>
          <pre id="code-docker" class="mt-3 p-3 rounded-lg overflow-x-auto"><code>docker run --rm -p 9944:9944 -p 9933:9933 quantara/node:devnet-0</code></pre>
          <p class="text-xs text-qmuted mt-2">Opens WS-RPC on 9944 and HTTP on 9933.</p>
        </div>
        <!-- Wallet SDK -->
        <div class="relative rounded-2xl border border-qline p-5 bg-white/[.02]">
          <div class="text-qgold font-medium">Wallet SDK (JS)</div>
          <button class="copy-btn rounded-md border border-qline px-2 py-1 text-xs hover:bg-white/5" data-copy="#code-sdk">Copy</button>
          <pre id="code-sdk" class="mt-3 p-3 rounded-lg overflow-x-auto"><code>import { connect, getAddress } from "@quantara/wallet";
const session = await connect();
const addr = await getAddress(session, { ss58: 73 });
console.log(addr);</code></pre>
          <p class="text-xs text-qmuted mt-2">Preview API. Unlocks at launch.</p>
        </div>
        <!-- Faucet API -->
        <div class="relative rounded-2xl border border-qline p-5 bg-white/[.02]">
          <div class="text-qgold font-medium">Faucet API</div>
          <button class="copy-btn rounded-md border border-qline px-2 py-1 text-xs hover:bg-white/5" data-copy="#code-faucet">Copy</button>
          <pre id="code-faucet" class="mt-3 p-3 rounded-lg overflow-x-auto"><code>curl -X POST https://api.quantara.xyz/faucet/claim \
 -H "Content-Type: application/json" \
 -d '{"address":"&lt;SS58-73&gt;","proof":"&lt;turnstile_token&gt;"}'</code></pre>
          <p class="text-xs text-qmuted mt-2">Rate-limited. Include Turnstile proof.</p>
        </div>
      </div>
      <!-- Validator teaser -->
      <div class="mt-6 rounded-2xl border border-qline p-6 bg-white/[.02]">
        <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4">
          <div>
            <div class="text-qgold font-medium">Become a validator</div>
            <p class="text-sm text-qmuted mt-1">Hardware profile, keys, and scripts ‚Äî with priority onboarding for waitlisted validators.</p>
          </div>
          <a href="/validators/" class="rounded-xl border border-qline px-5 py-3 hover:bg-white/5">Validator Guide</a>
        </div>
      </div>
    </div>
  </section>

  <!-- Referral Rewards -->
<section id="rewards" class="border-t border-qline" aria-label="Referral rewards">
  <div class="max-w-6xl mx-auto px-4 py-12 sm:py-16">
    <div class="flex flex-col sm:flex-row sm:items-end sm:justify-between gap-4">
      <div>
        <h2 class="text-2xl font-semibold">Referral Rewards</h2>
        <p class="mt-2 text-qmuted">
          Invite friends; earn perks as your confirmed referrals join the waitlist.
          <span class="text-white">1 referral = 1 point.</span>
        </p>
      </div>
      <div class="flex gap-2">
        <button id="open-ref-share-2" class="rounded-xl bg-qgold text-black font-semibold px-4 py-2">
          Copy my link
        </button>
        <a href="#faq" class="rounded-xl border border-qline px-4 py-2 hover:bg-white/5">Rules</a>
      </div>
    </div>

    <!-- Chart + live points -->
    <div class="mt-6 grid md:grid-cols-2 gap-6">
      <!-- Progress / tiers-as-bars -->
      <div class="rounded-2xl border border-qline p-6 bg-white/[.02]">
        <div class="flex items-center justify-between">
          <div class="text-sm text-qmuted">Progress to next tier</div>
          <div class="text-sm">
            <span id="my-points" class="text-qgold font-semibold" data-countup-key="points">0</span> pts
          </div>
        </div>

        <div class="mt-4 space-y-4" id="rewards-chart" aria-label="Rewards chart">
          <!-- Tier 1 -->
          <div class="rewards-row" data-tier="1" data-tier-req="1">
            <div class="flex items-center justify-between text-sm">
              <span>Tier 1 ‚Ä¢ 1 pt</span>
              <span class="text-qmuted" data-tier-status>In progress</span>
            </div>
            <div class="bar-wrap mt-2"><div class="bar" data-target="0" style="width:0%"></div></div>
            <p class="text-xs text-qmuted mt-1">Early-access time slot + Founding Member badge</p>
          </div>

          <!-- Tier 2 -->
          <div class="rewards-row" data-tier="2" data-tier-req="3">
            <div class="flex items-center justify-between text-sm">
              <span>Tier 2 ‚Ä¢ 3 pts</span>
              <span class="text-qmuted" data-tier-status>In progress</span>
            </div>
            <div class="bar-wrap mt-2"><div class="bar" data-target="0" style="width:0%"></div></div>
            <p class="text-xs text-qmuted mt-1">Higher faucet limit for first 48h</p>
          </div>

          <!-- Tier 3 -->
          <div class="rewards-row" data-tier="3" data-tier-req="5">
            <div class="flex items-center justify-between text-sm">
              <span>Tier 3 ‚Ä¢ 5 pts</span>
              <span class="text-qmuted" data-tier-status>In progress</span>
            </div>
            <div class="bar-wrap mt-2"><div class="bar" data-target="0" style="width:0%"></div></div>
            <p class="text-xs text-qmuted mt-1">‚ÄúContributor‚Äù Discord role + private AMA</p>
          </div>

          <!-- Tier 4 -->
          <div class="rewards-row" data-tier="4" data-tier-req="10">
            <div class="flex items-center justify-between text-sm">
              <span>Tier 4 ‚Ä¢ 10 pts</span>
              <span class="text-qmuted" data-tier-status>In progress</span>
            </div>
            <div class="bar-wrap mt-2"><div class="bar" data-target="0" style="width:0%"></div></div>
            <p class="text-xs text-qmuted mt-1">Swag drop raffle + homepage shout-out</p>
          </div>

          <!-- Tier 5 -->
          <div class="rewards-row" data-tier="5" data-tier-req="20">
            <div class="flex items-center justify-between text-sm">
              <span>Tier 5 ‚Ä¢ 20 pts</span>
              <span class="text-qmuted" data-tier-status>In progress</span>
            </div>
            <div class="bar-wrap mt-2"><div class="bar" data-target="0" style="width:0%"></div></div>
            <p class="text-xs text-qmuted mt-1">Validator fast-track + Builder showcase spotlight</p>
          </div>
        </div>

        <p class="text-[11px] text-qmuted mt-3">
          Perks apply to Devnet-0; non-transferable; testnet tokens have no monetary value.
        </p>
      </div>

      <!-- Tiers table + mini leaderboard -->
      <div class="rounded-2xl border border-qline p-6 bg-white/[.02]">
        <div class="text-sm text-qmuted mb-2">Tiers & perks</div>
        <div class="overflow-x-auto">
          <table class="w-full text-sm">
            <thead class="text-qmuted border-b border-qline">
              <tr>
                <th class="py-2 text-left font-medium">Tier</th>
                <th class="py-2 text-left font-medium">Points</th>
                <th class="py-2 text-left font-medium">Perk</th>
              </tr>
            </thead>
            <tbody class="divide-y divide-qline/60">
              <tr><td class="py-2">Tier 1</td><td>1</td><td>Early-access slot + Founding Member badge</td></tr>
              <tr><td class="py-2">Tier 2</td><td>3</td><td>Higher faucet limit (48h)</td></tr>
              <tr><td class="py-2">Tier 3</td><td>5</td><td>Contributor role + private AMA</td></tr>
              <tr><td class="py-2">Tier 4</td><td>10</td><td>Swag raffle + homepage shout-out</td></tr>
              <tr><td class="py-2">Tier 5</td><td>20</td><td>Validator fast-track + showcase spotlight</td></tr>
            </tbody>
          </table>
        </div>

        <div class="mt-6">
          <div class="flex items-center justify-between">
            <div class="text-sm text-qmuted">Weekly leaderboard <span class="text-qmuted/70">(preview)</span></div>
            <a href="/leaderboard/" class="text-xs underline">See all</a>
          </div>

          <!-- Hydrate later from /api/leaderboard -->
          <ol id="leaderboard-weekly" class="mt-2 text-sm space-y-1" data-hide-if-empty>
            <li class="flex justify-between"><span>0xNova</span><span class="text-qgold">14 pts</span></li>
            <li class="flex justify-between"><span>cypher-k</span><span class="text-qgold">11 pts</span></li>
            <li class="flex justify-between"><span>staker_cat</span><span class="text-qgold">9 pts</span></li>
          </ol>

          <div class="mt-3 text-xs text-qmuted">Real-time rankings unlock at launch.</div>
        </div>
      </div>
    </div>
  </div>
</section>

  <!-- Why join -->
  <section id="why" class="border-t border-qline" aria-label="Why join now">
    <div class="max-w-6xl mx-auto px-4 py-12 sm:py-16">
      <h2 class="text-2xl font-semibold">Why join now</h2>
      <div class="mt-6 grid md-grid-cols-1 md:grid-cols-3 gap-5">
        <div class="rounded-2xl border border-qline p-6 bg-white/[.02]">
          <div class="flex items-center gap-2 text-qgold font-medium">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><path d="M12 2l3 7 7 1-5 5 1 7-6-3-6 3 1-7-5-5 7-1z"/></svg>
            Founding Member Badge
          </div>
          <p class="mt-2 text-qmuted text-sm">Permanent Discord role and recognition on our explorer. You were here first.</p>
        </div>
        <div class="rounded-2xl border border-qline p-6 bg-white/[.02]">
          <div class="flex items-center gap-2 text-qgold font-medium">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><path d="M20 7h-9M7 7H4m16 5H4m16 5H4"/></svg>
            Priority Access
          </div>
          <p class="mt-2 text-qmuted text-sm">Early faucet access, clearer guides, and fast-lane support during the first 48 hours.</p>
        </div>
        <div class="rounded-2xl border border-qline p-6 bg-white/[.02]">
          <div class="flex items-center gap-2 text-qgold font-medium">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><path d="M3 12l2-2 4 4 10-10 2 2-12 12z"/></svg>
            Guided Onboarding
          </div>
          <p class="mt-2 text-qmuted text-sm">No experience? No problem. Our step-by-step wallet and faucet walkthrough gets you on-chain in minutes.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- What makes Quantara different -->
  <section class="border-t border-qline">
    <div class="max-w-6xl mx-auto px-4 py-12">
      <h2 class="text-2xl font-semibold">What makes Quantara different?</h2>
      <div class="mt-6 grid md:grid-cols-3 gap-5">
        <div class="rounded-2xl border border-qline p-6 bg-white/[.02]">
          <div class="text-qgold font-medium">Future-proof security</div>
          <p class="mt-2 text-qmuted text-sm">Post-quantum readiness helps protect addresses and transactions as cryptography evolves.</p>
        </div>
        <div class="rounded-2xl border border-qline p-6 bg-white/[.02]">
          <div class="text-qgold font-medium">Fast finality</div>
          <p class="mt-2 text-qmuted text-sm">Snappy 6-second blocks, built on proven Substrate foundations.</p>
        </div>
        <div class="rounded-2xl border border-qline p-6 bg-white/[.02]">
          <div class="text-qgold font-medium">Open to everyone</div>
          <p class="mt-2 text-qmuted text-sm">No token sale. Testnet tokens have no monetary value ‚Äî explore with zero pressure.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- TIMELINE -->
  <section id="timeline" class="border-t border-qline">
    <div class="max-w-6xl mx-auto px-4 py-12 sm:py-16">
      <h2 class="text-2xl font-semibold">Road to Devnet-0</h2>
      <div class="mt-8 grid md:grid-cols-4 gap-5">
        <div class="rounded-2xl border border-qline p-5 bg-white/[.02]"><div class="text-qgold font-medium">T-72h</div><p class="mt-1 text-sm text-qmuted">Email heads-up, wallet setup, faucet rules.</p></div>
        <div class="rounded-2xl border border-qline p-5 bg-white/[.02]"><div class="text-qgold font-medium">T-24h</div><p class="mt-1 text-sm text-qmuted">Validator keys + final checklist.</p></div>
        <div class="rounded-2xl border border-qline p-5 bg-white/[.02]"><div class="text-qgold font-medium">T-0</div><p class="mt-1 text-sm text-qmuted">Devnet-0 live ‚Ä¢ Faucet priority queue opens.</p></div>
        <div class="rounded-2xl border border-qline p-5 bg-white/[.02]"><div class="text-qgold font-medium">T+48h</div><p class="mt-1 text-sm text-qmuted">Office hours ‚Ä¢ Builder showcase submissions.</p></div>
      </div>
    </div>
  </section>

  <!-- HOW -->
  <section id="how" class="border-t border-qline" aria-label="How it works">
    <div class="max-w-6xl mx-auto px-4 py-12 sm:py-16">
      <h2 class="text-2xl font-semibold">How it works</h2>
      <ol class="mt-4 space-y-2 text-qmuted">
        <li>1. Join the waitlist.</li>
        <li>2. Watch your inbox for your early-access window.</li>
        <li>3. Open Quantara Wallet (or any Substrate wallet) and copy your SS58=73 address.</li>
        <li>4. Claim QTR (testnet) from the faucet and follow our simple guide to send your first transaction.</li>
      </ol>
      <p class="mt-3 text-xs text-qmuted">No token sale. Testnet tokens have no monetary value.</p>
    </div>
  </section>

  <!-- FAQ -->
  <section id="faq" class="border-t border-qline" aria-label="Frequently asked questions">
    <div class="max-w-6xl mx-auto px-4 py-12 sm:py-16">
      <h2 class="text-2xl font-semibold">FAQ</h2>
      <div class="mt-4 grid md:grid-cols-2 gap-6 text-qmuted">
        <div><h3 class="text-white font-medium">When is Devnet-0 launching?</h3><p class="mt-1">We‚Äôll email the exact window and faucet link to the waitlist.</p></div>
        <div><h3 class="text-white font-medium">Can I run a validator?</h3><p class="mt-1">Yes‚Äîchoose ‚ÄúValidator‚Äù on the form to get the guide first.</p></div>
        <div><h3 class="text-white font-medium">Are there rewards?</h3><p class="mt-1">Founding Member recognition and higher faucet limits. Testnet tokens have no monetary value.</p></div>
        <div><h3 class="text-white font-medium">Where is support?</h3><p class="mt-1">Join our Discord #devnet-0 channel for live help and updates.</p></div>
        <div><h3 class="text-white font-medium">Referral rules?</h3><p class="mt-1">Referrals count when the invitee verifies via email (and human check). Perks are non-transferable and apply to Devnet-0 only.</p></div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="border-t border-qline" role="contentinfo">
    <div class="max-w-6xl mx-auto px-4 py-8 text-sm text-qmuted flex items-center justify-between">
      <span>¬© 2025 Quantara Technology LLC ‚Äî Testnet tokens have no monetary value.</span>
      <div class="hidden sm:flex items-center gap-3">
        <a href="#" aria-label="Twitter" class="hover:text-white">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M22 5.8c-.7.3-1.5.5-2.3.6.8-.5 1.4-1.2 1.7-2.1-.8.5-1.7.8-2.6 1-1.6-1.7-4.3-1.5-5.7.4-1 1.3-1 3 .1 4.2-2.9-.1-5.6-1.6-7.3-4-.9 1.6-.4 3.6 1.1 4.6-.6 0-1.2-.2-1.7-.5 0 1.7 1.2 3.2 2.9 3.6-.5.1-1 .2-1.6.1.5 1.5 1.9 2.6 3.6 2.7-1.3 1-3 1.5-4.6 1.3 1.7 1.1 3.7 1.8 5.7 1.8 6.9 0 10.7-5.8 10.4-10.9.7-.5 1.4-1.2 1.9-2z"/></svg>
        </a>
        <a href="#" aria-label="Discord" class="hover:text-white">
          <svg width="20" height="20" viewBox="0 0 245 240" fill="currentColor" aria-hidden="true"><path d="M104.4 104.9c-5.7 0-10.2 5-10.2 11.1 0 6.1 4.6 11.1 10.2 11.1 5.7 0 10.2-5 10.2-11.1 0-6.1-4.5-11.1-10.2-11.1zm36.2 0c-5.7 0-10.2 5-10.2 11.1 0 6.1 4.6 11.1 10.2 11.1 5.7 0 10.2-5 10.2-11.1 0-6.1-4.5-11.1-10.2-11.1z"/><path d="M189.5 20h-134C36.5 20 20 36.5 20 55.5v129C20 203.5 36.5 220 55.5 220h114l-5.4-18.8 13.1 12.1 12.4 11.5 22.9 21.2V55.5C213.5 36.5 197 20 178.5 20zm-31 135.4s-2.9-3.5-5.3-6.5c10.5-3 14.5-9.6 14.5-9.6a46.4 46.4 0 01-9.2 4.7c-3.9 1.6-7.7 2.7-11.4 3.3-7.6 1.4-14.6 1-20.5-.1-4.5-.9-8.4-2-11.6-3.3-1.8-.7-3.7-1.5-5.6-2.6-.2-.1-.3-.2-.5-.3l-.1-.1s3.9 6.5 14.2 9.6c-2.4 3-5.4 6.6-5.4 6.6-17.9-.6-24.7-12.3-24.7-12.3 0-26 11.6-47.1 11.6-47.1 11.6-8.6 22.7-8.3 22.7-8.3l.8 1c-14.6 4.2-21.3 10.6-21.3 10.6s1.8-.9 4.7-2.1c8.6-3.8 15.4-4.9 18.2-5.1.5-.1.9-.1 1.4-.1 5-.7 10.5-.9 16.3-.2 7.7.9 15.9 3.2 24.2 7.9 0 0-6.4-6.1-20.3-10.3l1.1-1.3s11.1-.3 22.7 8.3c0 0 11.6 21.1 11.6 47.1 0 0-6.9 11.7-24.8 12.3z"/></svg>
        </a>
        <a href="#" aria-label="GitHub" class="hover:text-white">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M12 .5C5.7.5.9 5.3.9 11.6c0 4.9 3.2 9 7.6 10.5.6.1.8-.3.8-.6v-2.1c-3.1.7-3.8-1.3-3.8-1.3-.5-1.3-1.2-1.6-1.2-1.6-1-.7.1-.7.1-.7 1.1.1 1.7 1.1 1.7 1.1 1 .1.6 1.6 2.5 2 1.4.3 2.9-.1 3.6-.9.1-1 .5-1.7 1-2.1-2.5-.3-5.1-1.3-5.1-5.8 0-1.3.5-2.4 1.2-3.2-.1-.3-.5-1.6.1-3.2 0 0 1-.3 3.3 1.2a11.3 11.3 0 016 0c2.2-1.5 3.2-1.2 3.2-1.2.6 1.6.2 2.9.1 3.2.8.8 1.2 1.9 1.2 3.2 0 4.5-2.6 5.5-5.1 5.8.6.5 1.1 1.5 1.1 3v4.5c0 .3.2.7.8.6 4.4-1.4 7.6-5.6 7.6-10.5C23.1 5.3 18.3.5 12 .5z"/></svg>
        </a>
      </div>
    </div>
  </footer>

 <!-- Modals -->
<!-- Modals -->
<div id="video-modal" class="fixed inset-0 bg-black/70 hidden items-center justify-center z-40" role="dialog" aria-modal="true" aria-labelledby="video-modal-title">
  <div class="bg-qpanel border border-qline rounded-2xl shadow-glow w-[92vw] max-w-3xl">
    <div class="flex items-center justify-between p-3 border-b border-qline">
      <span id="video-modal-title" class="text-sm text-qmuted">Quantara Wallet + Faucet Preview</span>
      <button id="close-modal" class="px-2 py-1 rounded hover:bg-white/5" aria-label="Close video modal">‚úï</button>
    </div>
    <div class="p-4">
      <p class="text-sm text-qmuted">
        Demo preview coming soon. For now, the waitlist and referral flow are live.
      </p>
      <!-- If you later host a video elsewhere, you can drop a link here without bundling assets -->
      <!-- <a href="https://example.com/demo" class="underline text-qgold">Watch the demo</a> -->
    </div>
  </div>
</div>

<div id="ref-modal" class="fixed inset-0 bg-black/70 hidden items-center justify-center z-40" role="dialog" aria-modal="true" aria-labelledby="ref-modal-title">
  <div class="bg-qpanel border border-qline rounded-2xl shadow-glow w-[92vw] max-w-md">
    <div class="flex items-center justify-between p-3 border-b border-qline">
      <span id="ref-modal-title" class="text-sm text-qmuted">Share your referral link</span>
      <button id="close-ref" class="px-2 py-1 rounded hover:bg-white/5" aria-label="Close referral modal">‚úï</button>
    </div>
    <div class="p-4">
      <p class="text-sm text-qmuted">Friends who join with your link may receive faucet priority.</p>
      <div class="mt-3 flex gap-2">
        <input id="ref-link" class="flex-1 rounded-xl bg-black/40 border border-white/10 px-3 py-2" readonly value="" />
        <button id="copy-ref" class="rounded-xl bg-qgold text-black font-semibold px-4">Copy</button>
      </div>
    </div>
  </div>
</div>


<!-- Launch gating & UX scripts -->
<script>
  // === Launch configuration (UTC) ===========================================
  const Q_FAUCET_AT = new Date('2025-10-17T17:00:00Z'); // Faucet live
  const Q_WALLET_AT = new Date('2025-10-22T17:00:00Z'); // Wallet live

  // Helpers
  const $  = (s, r = document) => r.querySelector(s);
  const $$ = (s, r = document) => Array.from(r.querySelectorAll(s));
  const prefersReducedMotion = matchMedia('(prefers-reduced-motion: reduce)').matches;

  // Add header blur after first paint (cheaper)
  window.addEventListener('load', () => {
    $('header')?.classList.add('supports-blur');
  }, { once: true });

  // === Preview gate + countdown (dual dates) ================================
  (function setupPreviewGate() {
    const root = document.documentElement;
    const now  = () => Date.now();

    // Per-card DOM
    const walletTimeEl     = $('#preview-release-time');   // Wallet time
    const faucetTimeEl     = $('#preview-release-time-2'); // Faucet time
    const walletCountdown  = $('#preview-countdown');
    const faucetCountdown  = $('#preview-countdown-2');
    const barCountdown     = $('#bar-countdown');

    // Per-card preview containers (for greyscale/locker)
    const walletCard = $('#preview')?.querySelectorAll('.preview-card')?.[0] || null;
    const faucetCard = $('#preview')?.querySelectorAll('.preview-card')?.[1] || null;

    // Human-friendly absolute times
    const fmtAbs = new Intl.DateTimeFormat(undefined, { dateStyle: 'medium', timeStyle: 'short' });
    if (walletTimeEl) { walletTimeEl.dateTime = Q_WALLET_AT.toISOString(); walletTimeEl.textContent = fmtAbs.format(Q_WALLET_AT); }
    if (faucetTimeEl) { faucetTimeEl.dateTime = Q_FAUCET_AT.toISOString(); faucetTimeEl.textContent = fmtAbs.format(Q_FAUCET_AT); }

    // Format T- 00h 00m 00s
    const pad = (n) => String(n).padStart(2, '0');
    const asTMinus = (ms) => {
      const h = Math.max(0, Math.floor(ms / 36e5));
      const m = Math.max(0, Math.floor((ms % 36e5) / 6e4));
      const s = Math.max(0, Math.floor((ms % 6e4) / 1e3));
      return `T-${pad(h)}h ${pad(m)}m ${pad(s)}s`;
    };

    // Enable/disable links individually based on target moment
    function setLinkEnabled(hrefStartsWith, enabled) {
      $$(`[data-live-link][href^="${hrefStartsWith}"]`).forEach((a) => {
        if (enabled) {
          a.classList.remove('is-disabled');
          a.removeAttribute('aria-disabled');
        } else {
          a.classList.add('is-disabled');
          a.setAttribute('aria-disabled', 'true');
        }
      });
    }

    // Per-card visual unlock: remove greyscale + hide locker
    function unlockCard(cardEl) {
      if (!cardEl) return;
      cardEl.querySelector('.preview-ui')?.classList.remove('preview-ui');
      const locker = cardEl.querySelector('.locker');
      if (locker) locker.style.display = 'none';
    }

    // Global badge flips to Live when faucet is live (network ‚Äúon‚Äù)
    function updateGlobalLiveFlag() {
      const faucetLive = now() >= Q_FAUCET_AT.getTime();
      root.setAttribute('data-live', faucetLive ? '1' : '0');

      if (faucetLive) {
        $('#announce')?.classList.add('hidden');
        const badge = $('#live-badge');
        if (badge) badge.textContent = 'Live';
      }
    }

    // Soft-disable gated links pre-launch (click trap)
    function attachClickTraps() {
      $$('[data-live-link]').forEach(a => {
        a.addEventListener('click', (e) => {
          const href = a.getAttribute('href') || '';
          const isWallet = href.startsWith('/wallet/');
          const isFaucet = href.startsWith('/faucet/');

          const walletLive = now() >= Q_WALLET_AT.getTime();
          const faucetLive = now() >= Q_FAUCET_AT.getTime();

          const allowed = (isWallet && walletLive) || (isFaucet && faucetLive);
          if (!allowed) {
            e.preventDefault();
            alert('This opens at its release time. Join the waitlist to be notified.');
          }
        }, { passive: false });
      });
    }

    // Countdown tick
    let rafId = null;
    function tick() {
      const tNow = now();
      const wDiff = Q_WALLET_AT.getTime() - tNow;
      const fDiff = Q_FAUCET_AT.getTime() - tNow;

      // Wallet
      if (walletCountdown) {
        if (wDiff <= 0) { walletCountdown.textContent = 'LIVE'; unlockCard(walletCard); setLinkEnabled('/wallet/', true); }
        else walletCountdown.textContent = asTMinus(wDiff);
      }

      // Faucet
      if (faucetCountdown) {
        if (fDiff <= 0) { faucetCountdown.textContent = 'LIVE'; unlockCard(faucetCard); setLinkEnabled('/faucet/', true); }
        else faucetCountdown.textContent = asTMinus(fDiff);
      }

      // Announcement bar shows ‚Äúnext upcoming‚Äù milestone
      if (barCountdown) {
        if (fDiff > 0) {
          barCountdown.textContent = asTMinus(fDiff); // Faucet is next
        } else if (wDiff > 0) {
          barCountdown.textContent = `Wallet ${asTMinus(wDiff)}`;
        } else {
          barCountdown.textContent = 'LIVE';
        }
      }

      updateGlobalLiveFlag();

      // keep ticking until both are live
      if (wDiff <= 0 && fDiff <= 0) {
        if (rafId) cancelAnimationFrame(rafId);
        rafId = null;
        return;
      }
      rafId = requestAnimationFrame(tick);
    }

    // Initial state
    setLinkEnabled('/wallet/', now() >= Q_WALLET_AT.getTime());
    setLinkEnabled('/faucet/', now() >= Q_FAUCET_AT.getTime());

    if (now() >= Q_WALLET_AT.getTime()) unlockCard(walletCard);
    if (now() >= Q_FAUCET_AT.getTime()) unlockCard(faucetCard);

    attachClickTraps();
    tick(); // render once
    const start = () => { if (!rafId) rafId = requestAnimationFrame(tick); };
    const stop  = () => { if (rafId) { cancelAnimationFrame(rafId); rafId = null; } };
    start();

    document.addEventListener('visibilitychange', () => {
      if (document.hidden) stop(); else start();
    }, { passive: true });
  })();

  // === Simulated height/peers ticker (pre-launch only) ======================
  (function mockStatus(){
    const h = $('#height');
    const p = $('#peers');
    if (!h && !p) return;

    let height = 12345, peers = 18;
    let iv = null;

    const step = () => {
      height += Math.floor(Math.random() * 3);
      peers = Math.max(10, Math.min(64, peers + (Math.random() > 0.5 ? 1 : -1)));
      if (h) h.textContent = height.toLocaleString();
      if (p) p.textContent = String(peers);
    };

    // Only run while not live
    const run = () => {
      if (document.documentElement.getAttribute('data-live') === '1') {
        if (iv) clearInterval(iv);
        iv = null;
        return;
      }
      if (!iv) iv = setInterval(step, 2000);
    };

    run();
    document.addEventListener('visibilitychange', () => {
      if (document.hidden) { if (iv) { clearInterval(iv); iv = null; } }
      else run();
    }, { passive: true });
  })();

  // === Video modal ==========================================================
  (function(){
    const m = $('#video-modal');
    if (!m) return;
    $('#watch-demo')?.addEventListener('click', () => m.classList.remove('hidden'), { passive: true });
    $('#close-modal')?.addEventListener('click', () => m.classList.add('hidden'), { passive: true });
    m.addEventListener('click', (e) => { if (e.target === m) m.classList.add('hidden'); });
  })();

  // === Referral share modal =================================================
  (function(){
    const modal   = $('#ref-modal');
    if (!modal) return;
    const formBtn = $('#share-ref');
    const topBtn  = $('#open-ref-share-2');
    const close   = $('#close-ref');
    const input   = $('#ref-link');
    const copyBtn = $('#copy-ref');

    const url  = new URL(window.location.href);
    const myRef = url.searchParams.get('ref') || 'YOURCODE';
    const base  = url.origin + url.pathname.replace(/index\.html$/, '');
    if (input) input.value = `${base}?ref=${encodeURIComponent(myRef)}`;

    [formBtn, topBtn].forEach(b => b?.addEventListener('click', () => modal.classList.remove('hidden'), { passive: true }));
    close?.addEventListener('click', () => modal.classList.add('hidden'), { passive: true });
    modal.addEventListener('click', (e) => { if (e.target === modal) modal.classList.add('hidden'); });

    copyBtn?.addEventListener('click', async () => {
      if (!input) return;
      try {
        await navigator.clipboard.writeText(input.value);
        copyBtn.textContent = 'Copied!';
      } catch {
        // Fallback
        input.removeAttribute('readonly');
        input.select();
        document.execCommand('copy');
        input.setAttribute('readonly','');
        copyBtn.textContent = 'Copied!';
      }
      setTimeout(() => (copyBtn.textContent = 'Copy'), 1400);
    });
  })();

  // === Copy buttons for code blocks ========================================
  $$('[data-copy]').forEach(btn => {
    btn.addEventListener('click', async () => {
      const sel = btn.getAttribute('data-copy');
      const el  = sel && document.querySelector(sel);
      if (!el) return;
      const text = el.innerText.replace(/\n+$/,'');
      try {
        await navigator.clipboard.writeText(text);
        btn.textContent = 'Copied!';
      } catch {}
      setTimeout(() => (btn.textContent = 'Copy'), 1200);
    }, { passive: true });
  });

  // === Copy RPC =============================================================
  $('#copy-rpc')?.addEventListener('click', async () => {
    const text = $('#rpc-url')?.textContent?.trim() || '';
    if (!text) return;
    try { await navigator.clipboard.writeText(text); alert('RPC URL copied'); } catch {}
  }, { passive: true });

  // === Metrics count-up =====================================================
  (function(){
    const els = $$('[data-countup]');
    if (!els.length) return;
    const run = (el) => {
      const end = +el.getAttribute('data-countup');
      if (!Number.isFinite(end)) return;
      const dur = 900;
      const t0  = performance.now();
      const step = (t) => {
        const k = Math.min(1, (t - t0) / dur);
        const cur = Math.floor(end * k);
        el.textContent = cur.toLocaleString();
        if (k < 1) requestAnimationFrame(step);
        else el.textContent = end.toLocaleString();
      };
      requestAnimationFrame(step);
    };
    els.forEach(run);
  })();

  /* ================== Rewards chart animation + mock points ================== */
(function () {
  const wrap = document.getElementById('rewards-chart');
  if (!wrap) return;

  const reduceMotion = matchMedia?.('(prefers-reduced-motion: reduce)')?.matches === true;

  function animateBars() {
    // ‚ùå NO TS generic in inline JS
    // const bars = wrap.querySelectorAll<HTMLElement>('.bar');
    // ‚úÖ Plain JS + robust iteration
    const bars = wrap.querySelectorAll('.bar');
    Array.from(bars).forEach((b) => {
      const raw = b.getAttribute('data-target') ?? '0';
      const t = Math.min(100, Math.max(0, Number(raw) || 0));
      if (reduceMotion) {
        b.style.width = t + '%';
        return;
      }
      b.style.transition = 'width 900ms cubic-bezier(.2,.9,.2,1)';
      requestAnimationFrame(() => (b.style.width = t + '%'));
    });
  }

  if ('IntersectionObserver' in window) {
    const io = new IntersectionObserver((entries, obs) => {
      if (!entries.some(e => e.isIntersecting)) return;
      animateBars();
      obs.disconnect();
    }, { threshold: 0.25 });
    io.observe(wrap);
  } else {
    animateBars();
  }

  // mock points display
  const myPts = Number(localStorage.getItem('q_points') || 0);
  const ptsEl = document.getElementById('my-points');
  if (ptsEl && Number.isFinite(myPts)) ptsEl.textContent = String(myPts);
})();

/* ============== Cloudflare Turnstile token + submit guard ================== */
(function () {
  const FORM_ID = "waitlist-form";
  const TOKEN_NAME = "cf-turnstile-response";

  const $ = (sel, root = document) => root.querySelector(sel);
  const form = document.getElementById(FORM_ID);
  if (!form) return;

  const submitBtn = /** @type {HTMLButtonElement|null} */ ($("#join-submit", form));

  function ensureTokenInput() {
    let input = /** @type {HTMLInputElement|null} */ ($(`input[name="${TOKEN_NAME}"]`, form));
    if (!input) {
      input = document.createElement("input");
      input.type = "hidden";
      input.name = TOKEN_NAME;
      form.appendChild(input);
    }
    return input;
  }

  if (submitBtn) submitBtn.disabled = true; // disabled until token arrives

  // Wire these in the Turnstile widget attributes
  window.onTurnstileToken = function (token) {
    const input = ensureTokenInput();
    input.value = token || "";
    if (submitBtn) submitBtn.disabled = !token;
  };
  window.onTurnstileExpired = function () {
    const input = /** @type {HTMLInputElement|null} */ ($(`input[name="${TOKEN_NAME}"]`, form));
    if (input) input.value = "";
    if (submitBtn) submitBtn.disabled = true;
  };
  window.onTurnstileError = function () {
    if (submitBtn) submitBtn.disabled = true;
  };

  form.addEventListener(
    "submit",
    (e) => {
      const token = /** @type {HTMLInputElement|null} */ ($(`input[name="${TOKEN_NAME}"]`, form))?.value || "";
      if (!token) {
        e.preventDefault();
        alert("Please complete the human check before submitting.");
        try { window.turnstile?.reset?.(); } catch {}
      }
    },
    { passive: false }
  );

  /* -------------------------- Referral & UTM capture -------------------------- */
  (function captureAttribution() {
    const url = new URL(location.href);

    // referral (?ref= / ?r=)
    const ref = (url.searchParams.get("ref") || url.searchParams.get("r") || "").trim();
    const refField = /** @type {HTMLInputElement|null} */ (document.getElementById("referral_auto"));
    if (ref && refField) refField.value = ref.slice(0, 64);

    // utm_* ‚Üí hidden inputs
    ["utm_source", "utm_medium", "utm_campaign", "utm_content", "utm_term"].forEach((k) => {
      const v = url.searchParams.get(k);
      if (!v) return;
      const el = document.createElement("input");
      el.type = "hidden";
      el.name = k;
      el.value = v.slice(0, 64);
      form.appendChild(el);
    });
  })();
})();

/* ============================= Submit handler ============================== */
(function () {
  const FORM_ID = "waitlist-form";
  const TOKEN_NAME = "cf-turnstile-response";

  /** @type {HTMLFormElement|null} */
  const form = document.getElementById(FORM_ID);
  if (!form) return;

  /** @type {HTMLButtonElement|null} */
  const submitBtn = document.getElementById("join-submit");

  function formToJSON(formEl) {
    const fd = new FormData(formEl);
    const obj = Object.fromEntries(fd.entries());
    // normalize token key so API always receives cf-turnstile-response
    obj[TOKEN_NAME] =
      obj[TOKEN_NAME] || obj["cf_turnstile_response"] || obj["turnstileToken"] || "";
    return obj;
  }

  async function postJSON(url, data) {
    const r = await fetch(url, {
      method: "POST",
      headers: { "Content-Type": "application/json", Accept: "application/json" },
      body: JSON.stringify(data),
    });
    const text = await r.text();
    let json;
    try { json = JSON.parse(text); }
    catch { json = { ok: false, code: "BAD_JSON", message: text || "Invalid response" }; }
    if (!r.ok || json?.ok === false) {
      const msg = json?.message || json?.code || `HTTP ${r.status}`;
      throw new Error(msg);
    }
    return json;
  }

  const toast = (msg) => alert(msg);

  form.addEventListener("submit", async (e) => {
    e.preventDefault();

    const token = /** @type {HTMLInputElement|null} */ (
      form.querySelector(`input[name="${TOKEN_NAME}"]`)
    )?.value || "";
    if (!token) {
      toast("Please complete the human check before submitting.");
      try { window.turnstile?.reset?.(); } catch {}
      return;
    }

    try {
      if (submitBtn) {
        submitBtn.disabled = true;
        submitBtn.textContent = "Submitting‚Ä¶";
      }

      const payload = formToJSON(form);
      const res = await postJSON("/api/waitlist", payload);
      const code = res?.data?.code || "YOURCODE";

      toast(`You're on the list! Your referral code: ${code}`);

      // Fill and reveal referral modal if present
      /** @type {HTMLInputElement|null} */
      const input = document.getElementById("ref-link");
      if (input) {
        const base = location.origin + location.pathname.replace(/index\.html$/, "");
        input.value = `${base}?ref=${encodeURIComponent(code)}`;
      }
      document.getElementById("ref-modal")?.classList.remove("hidden");

      try { window.turnstile?.reset?.(); } catch {}
      form.reset();
      if (submitBtn) submitBtn.textContent = "Join the Waitlist";
    } catch (err) {
      console.error(err);
      toast(`Sign-up failed: ${err.message || err}`);
      if (submitBtn) submitBtn.textContent = "Join the Waitlist";
    } finally {
      if (submitBtn) submitBtn.disabled = false;
    }
  });
})();

<!-- ======================= Lightweight metrics hydrator ====================== -->
  (function () {
    const fmtInt = new Intl.NumberFormat(undefined, { maximumFractionDigits: 0 });
    const prefersReduced =
      matchMedia && matchMedia("(prefers-reduced-motion: reduce)").matches === true;

    function countUp(el, to, { duration = 600 } = {}) {
      const current = Number(String(el.textContent || "").replace(/,/g, "")) || 0;
      if (prefersReduced || Math.abs(to - current) < 3) {
        el.textContent = fmtInt.format(to);
        return;
      }
      const start = performance.now();
      function tick(now) {
        const t = Math.min(1, (now - start) / duration);
        el.textContent = fmtInt.format(Math.round(current + (to - current) * t));
        if (t < 1) requestAnimationFrame(tick);
      }
      requestAnimationFrame(tick);
    }

    async function fetchJSON(url, { timeout = 8000 } = {}) {
      const ctl = new AbortController();
      const id = setTimeout(() => ctl.abort(), timeout);
      try {
        const r = await fetch(url, { signal: ctl.signal, headers: { accept: "application/json" } });
        if (r.status === 404 || r.status === 405) {
          window.__Q_DISABLE_METRICS_POLL__ = true; // endpoint not present
          return null;
        }
        if (!r.ok) return null;
        return await r.json();
      } catch {
        return null;
      } finally {
        clearTimeout(id);
      }
    }

    async function hydrateMetricsOnce() {
      const $waitlist  = document.getElementById("metric-waitlist");
      const $countries = document.getElementById("metric-countries");
      const $avg       = document.getElementById("metric-avgblock");
      const $ss58      = document.getElementById("metric-ss58");

      const res = await fetchJSON("/api/metrics");
      if (!res) return;

      const data = res.data || {};
      if ($waitlist  && Number.isFinite(data.waitlistCount))  countUp($waitlist,  Number(data.waitlistCount));
      if ($countries && Number.isFinite(data.countryCount))   countUp($countries, Number(data.countryCount));
      if ($avg       && Number.isFinite(data.avgBlockSeconds)) countUp($avg,       Number(data.avgBlockSeconds));
      if ($ss58      && Number.isFinite(data.ss58Prefix))      countUp($ss58,      Number(data.ss58Prefix));
    }

    // Run once, then poll every 60s unless disabled
    hydrateMetricsOnce();
    const timer = setInterval(() => {
      if (window.__Q_DISABLE_METRICS_POLL__) {
        clearInterval(timer);
        return;
      }
      hydrateMetricsOnce();
    }, 60_000);
  })();
</script>

<!-- Optional typed helpers block (safe to keep or remove) -->
<script type="module">
  import { hydrateConfig, hydrateMetrics as hydrateMetricsTyped } from "/scripts/api-client.js";
  (async () => {
    try {
      await hydrateConfig();
      if (!window.__Q_DISABLE_METRICS_POLL__) {
        await hydrateMetricsTyped();
      }
    } catch {}
  })();
</script>

