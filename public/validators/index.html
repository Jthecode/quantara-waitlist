<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Quantara Validators — Devnet-0 (Prep)</title>
  <meta name="description" content="Quantara Devnet-0 validator onboarding placeholder with live network snapshot, hardware checklist, and a Docker quickstart."/>
  <meta name="theme-color" content="#0a0b0d">
  <meta name="color-scheme" content="dark">
  <meta name="robots" content="noindex">
  <link rel="icon" href="data:,">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .skeleton{position:relative;overflow:hidden;background:rgba(255,255,255,.06)}
    .skeleton::after{content:"";position:absolute;inset:0;transform:translateX(-100%);
      background:linear-gradient(90deg,transparent,rgba(255,255,255,.08),transparent);
      animation:shimmer 1.2s linear infinite}
    @keyframes shimmer{100%{transform:translateX(100%)}}
    @media (prefers-reduced-motion: reduce){.skeleton::after{animation:none}}
    pre, code { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace }
  </style>
</head>
<body class="min-h-screen bg-black text-white selection:bg-yellow-500/30">
  <main class="max-w-5xl mx-auto px-6 py-12">
    <header class="flex items-center justify-between gap-4">
      <a href="/" class="text-sm opacity-70 hover:opacity-100 transition">&larr; Back to Waitlist</a>
      <nav class="flex items-center gap-2 text-sm">
        <a class="px-3 py-1.5 rounded-lg border border-zinc-800 hover:bg-zinc-900" href="/explorer/">Explorer</a>
        <a class="px-3 py-1.5 rounded-lg border border-zinc-800 hover:bg-zinc-900" href="/status/">Status</a>
        <a class="px-3 py-1.5 rounded-lg border border-zinc-800 hover:bg-zinc-900" href="/faucet/">Faucet</a>
      </nav>
    </header>

    <h1 class="mt-6 text-3xl md:text-4xl font-semibold tracking-tight">Become a Validator</h1>
    <p class="mt-2 text-zinc-400">Devnet-0 validator docs are in progress. Start prepping your node now—final instructions will land before release. Testnet tokens have no monetary value.</p>

    <!-- Live Snapshot -->
    <section class="mt-8 grid sm:grid-cols-2 lg:grid-cols-4 gap-4">
      <div class="rounded-xl border border-zinc-800 bg-zinc-900/60 p-4">
        <div class="text-xs uppercase tracking-wide text-zinc-400">Network</div>
        <div id="chainName" class="mt-1 text-lg font-medium">Devnet-0</div>
      </div>
      <div class="rounded-xl border border-zinc-800 bg-zinc-900/60 p-4">
        <div class="text-xs uppercase tracking-wide text-zinc-400">SS58</div>
        <div id="ss58" class="mt-1 text-lg font-medium">73</div>
      </div>
      <div class="rounded-xl border border-zinc-800 bg-zinc-900/60 p-4">
        <div class="text-xs uppercase tracking-wide text-zinc-400">Avg block (s)</div>
        <div id="avgBlock" class="mt-1 text-lg font-medium">6</div>
      </div>
      <div class="rounded-xl border border-zinc-800 bg-zinc-900/60 p-4">
        <div class="text-xs uppercase tracking-wide text-zinc-400">Release</div>
        <time id="releaseAt" class="mt-1 block text-lg font-medium">TBD</time>
      </div>

      <div class="rounded-xl border border-zinc-800 bg-zinc-900/60 p-4 sm:col-span-2 lg:col-span-1">
        <div class="text-xs uppercase tracking-wide text-zinc-400">Height</div>
        <div id="height" class="mt-1 text-2xl font-semibold tabular-nums">
          <span class="inline-block w-28 h-6 skeleton rounded"></span>
        </div>
      </div>
      <div class="rounded-xl border border-zinc-800 bg-zinc-900/60 p-4 sm:col-span-2 lg:col-span-1">
        <div class="text-xs uppercase tracking-wide text-zinc-400">Peers</div>
        <div id="peers" class="mt-1 text-2xl font-semibold tabular-nums">
          <span class="inline-block w-16 h-6 skeleton rounded"></span>
        </div>
      </div>
    </section>

    <!-- Hardware & OS checklist -->
    <section class="mt-8 p-6 rounded-xl bg-zinc-900 border border-zinc-800">
      <h2 class="text-xl font-semibold">Hardware & OS (suggested)</h2>
      <ul class="mt-3 list-disc list-inside text-zinc-300 space-y-1">
        <li>CPU: 4–8 cores modern x86_64</li>
        <li>RAM: 16–32 GB</li>
        <li>Storage: 200+ GB SSD/NVMe</li>
        <li>Network: stable 100 Mbps+; open inbound p2p port</li>
        <li>OS: Ubuntu 22.04 LTS (or comparable), systemd</li>
        <li>Time sync: chrony or systemd-timesyncd</li>
      </ul>
      <p class="mt-3 text-zinc-400 text-sm">These are initial targets for Devnet-0; we’ll refine as we collect real usage.</p>
    </section>

    <!-- Quickstart (Docker) -->
    <section class="mt-8 p-6 rounded-xl bg-zinc-900 border border-zinc-800">
      <div class="flex items-center justify-between gap-3">
        <h2 class="text-xl font-semibold">Quickstart (Docker)</h2>
        <button id="copyBtn" class="px-3 py-1.5 rounded-md bg-yellow-500 text-black text-sm font-medium hover:bg-yellow-400 transition">Copy</button>
      </div>
      <p class="mt-2 text-zinc-400 text-sm">Boot a non-validator node first, verify sync, then enable validator keys. Replace <code>YOUR_NODE_NAME</code>.</p>
      <pre id="cmd" class="mt-3 overflow-auto rounded-lg border border-zinc-800 bg-zinc-950 p-4 text-sm leading-6"><code># Pull the latest Devnet-0 image (placeholder)
docker pull ghcr.io/quantara/devnet-0:latest

# Run a full node (adjust ports as needed)
docker run -it --rm \
  --name quantara-node \
  -p 30333:30333 \            # p2p
  -p 9944:9944 \              # ws (public)
  -e RUST_LOG=info \
  ghcr.io/quantara/devnet-0:latest \
  --chain devnet-0 \
  --name YOUR_NODE_NAME \
  --ws-external \
  --rpc-cors=all \
  --rpc-methods=Safe \
  --state-pruning=archive-canonical \
  --unsafe-ws-external=off

# After syncing, you'll generate session keys and submit on-chain (docs soon)</code></pre>
      <p class="mt-3 text-zinc-500 text-xs">
        Security tip: expose only what you must; prefer a reverse proxy or a private RPC if you don’t need public access.
      </p>
    </section>

    <!-- Next steps -->
    <section class="mt-8 grid md:grid-cols-2 gap-4">
      <a href="/status/" class="rounded-xl border border-zinc-800 bg-zinc-900/60 p-5 hover:bg-zinc-900 transition">
        <div class="text-sm text-zinc-400">Monitor</div>
        <div class="text-lg font-medium">Status Dashboard &rarr;</div>
      </a>
      <a href="/explorer/" class="rounded-xl border border-zinc-800 bg-zinc-900/60 p-5 hover:bg-zinc-900 transition">
        <div class="text-sm text-zinc-400">Inspect</div>
        <div class="text-lg font-medium">Explorer (Preview) &rarr;</div>
      </a>
    </section>

    <footer class="mt-10 text-xs text-zinc-500">
      © 2025 Quantara Technology LLC — Devnet-0 • SS58=73 • Avg block ≈ 6s
    </footer>
  </main>

  <script>
    (function () {
      const $ = (id) => document.getElementById(id);

      // copy helper
      $('copyBtn').addEventListener('click', async () => {
        const txt = $('cmd').innerText;
        try {
          await navigator.clipboard.writeText(txt);
          $('copyBtn').textContent = 'Copied!';
          setTimeout(() => $('copyBtn').textContent = 'Copy', 1200);
        } catch {
          // fallback
          const s = window.getSelection();
          const r = document.createRange();
          r.selectNodeContents($('cmd'));
          s.removeAllRanges(); s.addRange(r);
          try { document.execCommand('copy'); } catch {}
          s.removeAllRanges();
          $('copyBtn').textContent = 'Copied!';
          setTimeout(() => $('copyBtn').textContent = 'Copy', 1200);
        }
      });

      // tiny JSON fetch with timeout
      async function getJSON(path, ms = 5000) {
        const ctrl = new AbortController();
        const to = setTimeout(() => ctrl.abort(), ms);
        try {
          const r = await fetch(path, { signal: ctrl.signal, credentials: 'same-origin' });
          if (!r.ok) return null;
          return await r.json();
        } catch { return null; }
        finally { clearTimeout(to); }
      }

      async function hydrateConfig() {
        const wrap = await getJSON('/api/config');
        const cfg = wrap?.data || wrap || null;
        if (!cfg) return;
        if (cfg.chainName) $('chainName').textContent = cfg.chainName;
        if (typeof cfg.ss58Prefix === 'number') $('ss58').textContent = String(cfg.ss58Prefix);
        if (typeof cfg.avgBlockSeconds === 'number') $('avgBlock').textContent = String(cfg.avgBlockSeconds);
        if (cfg.releaseAt) {
          const dt = new Date(cfg.releaseAt);
          const fmt = new Intl.DateTimeFormat(undefined, { dateStyle: 'medium', timeStyle: 'short' });
          $('releaseAt').dateTime = dt.toISOString();
          $('releaseAt').textContent = fmt.format(dt);
        }
      }

      async function hydrateMetrics() {
        const wrap = await getJSON('/api/metrics');
        const m = wrap?.data || wrap || null;
        if (!m) return;
        if (typeof m.height === 'number') $('height').textContent = m.height.toLocaleString();
        else $('height').textContent = '—';
        if (typeof m.peers === 'number') $('peers').textContent = String(m.peers);
        else $('peers').textContent = '—';
        if (typeof m.ss58Prefix === 'number') $('ss58').textContent = String(m.ss58Prefix);
        if (typeof m.avgBlockSeconds === 'number') $('avgBlock').textContent = String(m.avgBlockSeconds);
      }

      hydrateConfig();
      hydrateMetrics();
      setInterval(hydrateMetrics, 10000);
    })();
  </script>
</body>
</html>
