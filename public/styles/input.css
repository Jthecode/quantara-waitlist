@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===================================================================
   Global paint guards (kept here too; you can also inline in <head>)
   =================================================================== */
:root { color-scheme: dark; }
html, body { background: #0a0b0d; }
body {
  color: #fff;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* ===================================================================
   Background: fast raster + graceful fallback
   - Place public/assets/bg-grid.webp (1920–2560px wide, ~80–150 KB)
   - If missing, we keep the solid dark background
   =================================================================== */
.bg-grid{
  background:
    url("/assets/bg-grid.webp") center / cover no-repeat,
    linear-gradient(#0a0b0d,#0a0b0d);
}

/* ===================================================================
   Layout helpers / components matching your HTML
   =================================================================== */

/* Subtle double frame used in hero */
.frame:before,
.frame:after{
  content:"";
  position:absolute;
  inset:12px;
  border:1px solid rgba(241,196,107,.22); /* qgold */
  border-radius:14px;
  pointer-events:none;
}
.frame:after{
  inset:28px;
  border-color:rgba(241,196,107,.12);
}

/* Divider line with gold glow */
.gold-line{
  height:1px;
  background:linear-gradient(to right,transparent,rgba(241,196,107,.6),transparent);
}

/* Small pill chips */
.chip{
  border:1px solid #191e25;           /* qline */
  background:rgba(255,255,255,.03);
  border-radius:9999px;
}

/* CTA pulse */
.pulse{ animation:pulseGlow 2.2s ease-in-out infinite; }
@keyframes pulseGlow{
  0%,100%{ box-shadow:0 0 0 0 rgba(241,196,107,.25) }
  50%    { box-shadow:0 0 0 8px rgba(241,196,107,.02) }
}

/* Focus visibility */
:focus-visible {
  outline: 2px solid #f1c46b; /* qgold */
  outline-offset: 2px;
  border-radius: 8px;
}

/* Screenreader only + “skip to content” when focused */
.sr-only{
  position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;
  clip:rect(0,0,0,0);white-space:nowrap;border:0;
}
.skip-link:focus{
  position:fixed;left:1rem;top:1rem;width:auto;height:auto;
  padding:.5rem .75rem;background:#f1c46b;color:#000;border-radius:.5rem;z-index:50
}

/* Preview lock styles */
.preview-card{ position:relative; overflow:hidden }
.preview-ui{ filter:grayscale(1); opacity:.6; pointer-events:none; user-select:none }
.locker{
  position:absolute; inset:0; display:flex; flex-direction:column; align-items:center; justify-content:center;
  background:linear-gradient(180deg,rgba(10,11,13,.35),rgba(10,11,13,.65));
  border:1px solid rgba(241,196,107,.18); text-align:center; gap:.5rem
}
.locker .lock-icon{ width:42px; height:42px; color:#f1c46b; opacity:.95 }
.locker small{ color:#9aa0a6 }
[data-live="1"] .preview-ui{ filter:none; opacity:1; pointer-events:auto; user-select:auto }
[data-live="1"] .locker{ display:none }

/* Disabled-style links (pre-launch) */
.is-disabled{ opacity:.85 }
.is-disabled:hover{ opacity:1 }

/* Code blocks + copy button */
pre{ background:rgba(255,255,255,.03); border:1px solid #191e25; border-radius:.5rem }
.copy-btn{ position:absolute; top:.5rem; right:.5rem }

/* Rewards bars */
.bar{
  height:12px; border-radius:9999px;
  background:linear-gradient(90deg, rgba(241,196,107,.95), rgba(241,196,107,.55));
  box-shadow:0 4px 20px rgba(241,196,107,.15) inset;
  width:0; /* animated in JS */
}
.bar-wrap{
  background:rgba(255,255,255,.05);
  border:1px solid #191e25;
  border-radius:9999px;
  overflow:hidden;
}

/* Turnstile: reserve height to avoid layout shift */
.cf-turnstile{ min-height:64px; display:block }

/* Header blur applied after window 'load' to avoid expensive first paint */
header.supports-blur{ backdrop-filter: blur(8px) }

/* Prefer reduced motion */
@media (prefers-reduced-motion: reduce){
  .pulse{ animation:none }
  .bar{ transition:none !important }
}
